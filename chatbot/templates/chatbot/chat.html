{% extends 'base.html' %}
{% load static %}

{% block styles %}
<link rel="stylesheet" href="{% static 'chatbot/css/chat.css' %}">
{% endblock styles %}

{% block content %}

<h2>Chatbot</h2>

<!-- 대화창 -->
<div style="border:1px solid #ccc; padding:10px; height:300px; overflow-y:auto;">
  {% for msg in messages %}
    {% if msg.role == "user" %}
      <p><b> 나:</b> {{ msg.message }}</p>
    {% else %}
      <p><b> 봇:</b> {{ msg.message }}</p>
    {% endif %}
  {% empty %}
    <p>아직 대화가 없습니다. 첫 메시지를 입력해보세요!</p>
  {% endfor %}
</div>

<!-- 입력창 -->
<form method="POST" style="margin-top:10px;">
  {% csrf_token %}
  <input type="text" name="message" placeholder="메시지를 입력하세요" style="width:80%;" required />
  <button type="submit">전송</button>
</form>

{% endblock %}
