{# update.html #}
{# íšŒì› ì •ë³´ë¥¼ ì¡°íšŒ ë° ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” í˜ì´ì§€ í…œí”Œë¦¿ #}

{% extends 'base.html' %}
{% load static %}
{% load humanize %}

{% block styles %}
  <link rel="stylesheet" href="{% static 'accounts/css/mypage-layout.css' %}">
  <link rel="stylesheet" href="{% static 'accounts/css/update.css' %}">
{% endblock styles %}

{% block content %}
<div class="container">
  
  {# ì‚¬ì´ë“œë°” #}
  <div id="sidebar" class="sidebar">

    {# ë¡œê³  ì´ë¯¸ì§€ #}
    <a href="{% url 'products:index' %}" class="main-link">
      <img src="{% static 'images/logo-gray.png' %}" alt="FINBOT Logo">
    </a>

    {# í˜ì´ì§€ í•­ëª© #}
    <a href="{% url 'accounts:update' %}" class="active">íšŒì›ì •ë³´ ìˆ˜ì •</a>
    <a href="{% url 'accounts:password' %}">ë¹„ë°€ë²ˆí˜¸ ë³€ê²½</a>
    <a href="{% url 'accounts:delete' %}">íšŒì› íƒˆí‡´</a>

    {# ë¡œê·¸ì•„ì›ƒ ë²„íŠ¼ #}
    <a href="{% url 'accounts:logout' %}" class="logout-link">ë¡œê·¸ì•„ì›ƒ</a>
  </div>
  <div class="content-area">

  <form action="{% url 'accounts:update' %}" method="POST">
    {% csrf_token %}

    <div class="form-row">
      {# 1. ì´ë¦„ ì…ë ¥ í¼ #}
      <div class="form-group">
        <label for="{{ form.name.id_for_label }}">ì´ë¦„</label>
        {{ form.name }}
      </div>

      {# 2. ì„±ë³„ ì„ íƒ í¼ #}
      <div class="form-group">
        <label for="{{ form.gender.id_for_label }}">ì„±ë³„</label>
        {{ form.gender }}
      </div>
    </div>

    <div class="form-row">
      {# 3. ë‚˜ì´ ì…ë ¥ í¼ #}
      <div class="form-group">
        <label for="{{ form.age.id_for_label }}">ë‚˜ì´</label>
        {{ form.age }}
      </div>

      {# 4. ì§ì—… ì„ íƒ í¼ #}
      <div class="form-group">
        <label for="{{ form.job.id_for_label }}">ì§ì—…</label>
        {{ form.job }}
      </div>
    </div>

    <div class="form-row">
      {# 5. ì†Œë“ ì„ íƒ í¼ #}
      <div class="form-group">
        <label for="{{ form.earnings.id_for_label }}">ì†Œë“</label>
        {{ form.earnings }}
      </div>

      {# 6. ê±°ì£¼ ì§€ì—­ ì„ íƒ í¼ #}
      <div class="form-group">
        <label for="{{ form.life_area.id_for_label }}">ê±°ì£¼ ì§€ì—­</label>
        {{ form.life_area }}
      </div>
    </div>

    
    {# 7. ì •ë³´ ìˆ˜ì • ë‚´ì—­ ì €ì¥ ë²„íŠ¼ #}
    <div class="update-btn-wrapper" style="margin-top: 60px;">
      <button type="submit" class="btn-bottom-right">ì •ë³´ ìˆ˜ì •</button>
    </div>
    
  </form>

  <!-- ê´€ì‹¬ìƒí’ˆ ì˜ì—­ -->
    <div class="favorites-section" style="margin-top: 60px; margin-bottom: 80px;">

      <h2 style="margin-bottom: 20px;">ë‚˜ì˜ ê´€ì‹¬ìƒí’ˆ</h2>

      {% if favorites %}
        <ul class="favorites-list" style="list-style: none; padding: 0;">
          {% for item in favorites %}
            <li style="
                border: 1px solid #ddd;
                border-radius: 8px;
                padding: 16px;
                margin-bottom: 16px;
                display: flex;
                align-items: center;
                gap: 16px;
            ">

              <div>
                <strong style="font-size: 18px;">{{ item.product_name }}</strong><br>
                <span style="color: #666;">{{ item.company_name }}</span><br><br>

                ê¸ˆë¦¬: <b>{{ item.interest_rate }}%</b><br>
                ì˜ˆì¹˜ê¸°ê°„: <b>{{ item.period_month }}ê°œì›”</b><br><br>

                <span style="font-size: 16px;">
                  ì˜ˆìƒ ìˆ˜ìµ: <b>{{ item.expected_profit|intcomma }}ì›</b>
                </span><br>

                <span style="font-size: 16px;">
                  ì´ ìˆ˜ë ¹ì•¡: <b>{{ item.total_amount|intcomma }}ì›</b>
                </span>
              </div>
            </li>
          {% endfor %}
        </ul>
      {% else %}
        <p style="color: #666;">ê´€ì‹¬ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.</p>
      {% endif %}

    </div> <!-- favorites-section ë -->

  </div>  {# ğŸ”¥ content-area ë #}

</div> <!-- container ë -->
{% endblock content %}