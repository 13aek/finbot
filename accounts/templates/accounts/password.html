{# password.html #}
{# 비밀번호 변경 페이지 템플릿 #}

{% extends 'base.html' %}
{% load static %}

{% block styles %}
  <link rel="stylesheet" href="{% static 'accounts/css/mypage-layout.css' %}">
  <link rel="stylesheet" href="{% static 'accounts/css/password.css' %}">
{% endblock styles %}

{% block content %}
<div class="container">

  {# 사이드바 #}
  <div id="sidebar" class="sidebar">

    {# 로고 이미지 #}
    <a href="{% url 'products:index' %}" class="main-link">
      <img src="{% static 'images/logo-gray.png' %}" alt="FINBOT Logo">
    </a>

    {# 페이지 항목 #}
    <a href="{% url 'accounts:update' %}">회원정보 수정</a>
    <a href="{% url 'accounts:password' %}" class="active">비밀번호 변경</a>
    <a href="{% url 'accounts:delete' %}">회원 탈퇴</a>

    {# 로그아웃 버튼 #}
    <a href="{% url 'accounts:logout' %}" class="logout-link">로그아웃</a>
  </div>

  <form action="{% url "accounts:password" %}" method="POST">
    {% csrf_token %}

    {# 1. 기존 비밀번호 입력 필드 #}
    <input
        type="password"
        name="{{ form.old_password.name }}"
        id="{{ form.old_password.id_for_label }}"
        placeholder="현재 비밀번호를 입력하세요"
        class="form-input"
        required
    >

    {# 2. 새 비밀번호 입력 필드 #}
    <input
        type="password"
        name="{{ form.new_password1.name }}"
        id="{{ form.new_password1.id_for_label }}"
        placeholder="새로운 비밀번호를 입력하세요"
        class="form-input"
        required
    >

    {# 3. 새 비밀번호 확인 필드 #}
    <input
        type="password"
        name="{{ form.new_password2.name }}"
        id="{{ form.new_password2.id_for_label }}"
        placeholder="비밀번호를 다시 입력하세요"
        class="form-input"
        required
    >

    {# 4. 변경 내역 저장 버튼 #}
    <button type="submit">비밀번호 변경</button>
  </form>
</div>

<script>
  {% if messages %}
    {% for msg in messages %}
      alert("{{ msg }}")
    {% endfor %}
  {% endif %}
</script>
{% endblock content %}