{# password.html #}
{# 비밀번호 변경 페이지 템플릿 #}

{% extends 'base.html' %}
{% load static %}

{% block styles %}
  <link rel="stylesheet" href="{% static 'accounts/css/mypage-layout.css' %}">
  <link rel="stylesheet" href="{% static 'accounts/css/password.css' %}">
{% endblock styles %}

{% block content %}
<div class="container">

  {# 상단바 #}
  <header class="header">
    <div class="left-group">
      <a href="{% url 'products:index' %}" class="main-link">
        <img src="{% static 'images/logo-white.png' %}" alt="FINBOT Logo">
      </a>
    </div>

    <div class="right-group">
        <a href="{% url 'accounts:update' %}">회원정보 수정</a>
        <a href="{% url 'accounts:password' %}" class="active">비밀번호 변경</a>
        <a href="{% url 'accounts:delete' %}">회원 탈퇴</a>
    </div>
  </header>

  <form action="{% url "accounts:password" %}" method="POST">
    {% csrf_token %}

    {# 1. 기존 비밀번호 입력 필드 #}
    <input
        type="password"
        name="{{ form.old_password.name }}"
        id="{{ form.old_password.id_for_label }}"
        placeholder="현재 비밀번호를 입력하세요"
        class="form-input"
        required
    >

    {# 2. 새 비밀번호 입력 필드 #}
    <input
        type="password"
        name="{{ form.new_password1.name }}"
        id="{{ form.new_password1.id_for_label }}"
        placeholder="새로운 비밀번호를 입력하세요"
        class="form-input"
        required
    >

    {# 3. 새 비밀번호 확인 필드 #}
    <input
        type="password"
        name="{{ form.new_password2.name }}"
        id="{{ form.new_password2.id_for_label }}"
        placeholder="비밀번호를 다시 입력하세요"
        class="form-input"
        required
    >

    {# 4. 변경 내역 저장 버튼 #}
    <button type="submit" class="btn-group">비밀번호 변경</button>
  </form>
</div>

<script>
  {% if messages %}
    {% for msg in messages %}
      alert("{{ msg }}")
    {% endfor %}
  {% endif %}
</script>
{% endblock content %}
